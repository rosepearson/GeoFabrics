<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>geofabrics.bathymetry_estimation &mdash; Geofabrics 0.7.6 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Geofabrics
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Geofabrics</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">geofabrics.bathymetry_estimation</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/autoapi/geofabrics/bathymetry_estimation/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-geofabrics.bathymetry_estimation">
<span id="geofabrics-bathymetry-estimation"></span><h1><a class="reference internal" href="#module-geofabrics.bathymetry_estimation" title="geofabrics.bathymetry_estimation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">geofabrics.bathymetry_estimation</span></code></a><a class="headerlink" href="#module-geofabrics.bathymetry_estimation" title="Permalink to this heading"></a></h1>
<p>This module contains classes associated with characterising channel geometry
information.</p>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this heading"></a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#geofabrics.bathymetry_estimation.Channel" title="geofabrics.bathymetry_estimation.Channel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Channel</span></code></a></p></td>
<td><p>A class to define a channel centre line from a digital network.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics" title="geofabrics.bathymetry_estimation.ChannelCharacteristics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ChannelCharacteristics</span></code></a></p></td>
<td><p>A class to estimate the width, slope and other characteristics of a</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.Channel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">geofabrics.bathymetry_estimation.</span></span><span class="sig-name descname"><span class="pre">Channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.Channel" title="Permalink to this definition"></a></dt>
<dd><p>A class to define a channel centre line from a digital network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> (<em>geopandas.GeoDataFrame</em>) – </p></li>
<li><p><strong>resolution</strong> (<em>float</em>) – </p></li>
<li><p><strong>sampling_direction</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.Channel.from_network">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starting_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.Channel.from_network" title="Permalink to this definition"></a></dt>
<dd><p>Create a channel object from a REC file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>network</strong> – Contains geometry and relational information between upstream and downstream
reaches.</p></li>
<li><p><strong>starting_id</strong> (<em>int</em>) – The ID of the reach to trace upstream from.</p></li>
<li><p><strong>name_dict</strong> (<em>dict</em>) – The column names of the network.</p></li>
<li><p><strong>area_threshold</strong> (<em>float</em>) – The minimum upstream area for upstream reaches to be included.</p></li>
<li><p><strong>resolution</strong> (<em>float</em>) – The resolution of the upstream polyline trace to create from the network.</p></li>
<li><p><strong>sampling_direction</strong> (<em>int</em>) – The direction to sample each reach polyline. 1 if each reach is defined
downstream to upstream, -1 otherwise.</p></li>
<li><p><strong>network_file</strong> (<em>pathlib.Path</em>) – </p></li>
<li><p><strong>crs</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.Channel.get_parametric_spline_fit_points">
<span class="sig-name descname"><span class="pre">get_parametric_spline_fit_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.Channel.get_parametric_spline_fit_points" title="Permalink to this definition"></a></dt>
<dd><p>Return the spline smoothed polyline points created from two splines defining
a parametric curve fit to points along the channel. The curve is resampled at
even spacing once the splines are fit.
If no spacing is provided the channel corner points are used, if a spacing is
provided the channel corner points with sampling at the spacing are used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<em>int</em>) – The polynomial degree. Should be off. 1 &lt;= k &lt;= 5.</p></li>
<li><p><strong>spacing</strong> (<em>float</em>) – The spacing between sampled points along straight segments</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.Channel.get_parametric_spline_fit">
<span class="sig-name descname"><span class="pre">get_parametric_spline_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.Channel.get_parametric_spline_fit" title="Permalink to this definition"></a></dt>
<dd><p>Return the spline smoothed polyline created from two splines defining a
parametric curve fit to points along the channel. The curve is resampled at even
spacing once the splines are fit.
If no spacing is provided the channel corner points are used, if a spacing is
provided the channel corner points with sampling at the spacing are used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<em>int</em>) – The polynomial degree. Should be off. 1 &lt;= k &lt;= 5.</p></li>
<li><p><strong>spacing</strong> (<em>float</em>) – The spacing between sampled points along straight segments</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.Channel.get_b_spline_fit">
<span class="sig-name descname"><span class="pre">get_b_spline_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smoothing_multiplier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.Channel.get_b_spline_fit" title="Permalink to this definition"></a></dt>
<dd><p>Return the spline smoothed polyline created using a B-spline fit to corner
points.
If no spacing is provided the channel corner points are used, if a spacing is
provided the channel corner points with sampling at the spacing are used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>smoothing_multiplier</strong> (<em>float</em>) – The polynomial degree. Should be off. 1 &lt;= k &lt;= 5.</p></li>
<li><p><strong>spacing</strong> (<em>float</em>) – The spacing between sampled points along straight segments</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.Channel.get_b_spline_fit_points">
<span class="sig-name descname"><span class="pre">get_b_spline_fit_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smoothing_multiplier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.Channel.get_b_spline_fit_points" title="Permalink to this definition"></a></dt>
<dd><p>Return the spline smoothed polyline points created using a B-spline fit to
corner points.
If no spacing is provided the channel corner points are used, if a spacing is
provided the channel corner points with sampling at the spacing are used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>smoothing_multiplier</strong> (<em>float</em>) – The polynomial degree. Should be off. 1 &lt;= k &lt;= 5.</p></li>
<li><p><strong>spacing</strong> (<em>float</em>) – The spacing between sampled points along straight segments</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.Channel.get_channel_catchment">
<span class="sig-name descname"><span class="pre">get_channel_catchment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corridor_radius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.Channel.get_channel_catchment" title="Permalink to this definition"></a></dt>
<dd><p>Create a catchment from the smooth channel and the specified
radius.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>corridor_radius</strong> (<em>float</em>) – The radius of the channel corridor. This will determine the width of
the channel catchment.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>geopandas.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.Channel.get_spaced_points">
<span class="sig-name descname"><span class="pre">get_spaced_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_direction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.Channel.get_spaced_points" title="Permalink to this definition"></a></dt>
<dd><p>Sample at the specified spacing along the entire line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> – A data frame with the geometry defining the channel centreline.</p></li>
<li><p><strong>spacing</strong> (<em>float</em>) – The spacing between sampled points along straight segments</p></li>
<li><p><strong>sample_direction</strong> – Are the reaches sampled in the same direction they are ordered.
1 if in the same direction, -1 if in the opposite direction.</p></li>
<li><p><strong>sampling_direction</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.Channel.get_spaced_points_with_corners">
<span class="sig-name descname"><span class="pre">get_spaced_points_with_corners</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_direction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.Channel.get_spaced_points_with_corners" title="Permalink to this definition"></a></dt>
<dd><p>Sample at the specified spacing along each straight segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> – A data frame with the geometry defining the channel centreline.</p></li>
<li><p><strong>spacing</strong> (<em>float</em>) – The spacing between sampled points along straight segments</p></li>
<li><p><strong>sample_direction</strong> – Are the reaches sampled in the same direction they are ordered.
1 if in the same direction, -1 if in the opposite direction.</p></li>
<li><p><strong>sampling_direction</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">geofabrics.bathymetry_estimation.</span></span><span class="sig-name descname"><span class="pre">ChannelCharacteristics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gnd_dem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veg_dem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section_spacing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics" title="Permalink to this definition"></a></dt>
<dd><p>A class to estimate the width, slope and other characteristics of a
channel from a detailed DEM and a river network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gnd_dem</strong> (<em>xarray.Dataset</em>) – </p></li>
<li><p><strong>veg_dem</strong> (<em>xarray.Dataset</em>) – </p></li>
<li><p><strong>cross_section_spacing</strong> (<em>float</em>) – </p></li>
<li><p><strong>resolution</strong> (<em>float</em>) – </p></li>
<li><p><strong>debug</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.number_of_samples">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_samples</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.number_of_samples" title="Permalink to this definition"></a></dt>
<dd><p>Return the number of samples to take along cross_sections. This should
be an odd number. Subtract 1 instead of adding to ensure within the
generated DEM.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.centre_index">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">centre_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.centre_index" title="Permalink to this definition"></a></dt>
<dd><p>Return the centre index for samples taken along a transect.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.calculate_min_z_start_i">
<span class="sig-name descname"><span class="pre">calculate_min_z_start_i</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_z_search_radius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.calculate_min_z_start_i" title="Permalink to this definition"></a></dt>
<dd><p>Return the starting index of samples along each transect to begin
looking for the minimum z.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>min_z_search_radius</strong> – The distance to search from the centre.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.calculate_min_z_stop_i">
<span class="sig-name descname"><span class="pre">calculate_min_z_stop_i</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_z_search_radius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.calculate_min_z_stop_i" title="Permalink to this definition"></a></dt>
<dd><p>Return the stopping index of samples along each transect to begin
looking for the minimum z.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>min_z_search_radius</strong> – The distance to search from the centre.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.node_centred_reach_cross_section">
<span class="sig-name descname"><span class="pre">node_centred_reach_cross_section</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampled_channel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.node_centred_reach_cross_section" title="Permalink to this definition"></a></dt>
<dd><p>Calculate cross_sections along a channel at the midpoint of each
segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sampled_channel</strong> (<em>geopandas.GeoDataFrame</em>) – The sampled channel defined as a single polyline. Any branches described
separately.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.sample_cross_sections">
<span class="sig-name descname"><span class="pre">sample_cross_sections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cross_sections</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_z_search_radius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.sample_cross_sections" title="Permalink to this definition"></a></dt>
<dd><p>Return the elevations along the cross_section sampled at the
sampling resolution. Also add the measured ‘min_z_centre’ values to
the cross_sections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cross_sections</strong> (<em>geopandas.GeoDataFrame</em>) – The cross_sections with geometry defined as polylines.</p></li>
<li><p><strong>min_z_search_radius</strong> (<em>float</em>) – The distance to search from the centre.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.fixed_thresholded_widths_from_centre_within_radius">
<span class="sig-name descname"><span class="pre">fixed_thresholded_widths_from_centre_within_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cross_sections</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section_elevations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_channel_width</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.fixed_thresholded_widths_from_centre_within_radius" title="Permalink to this definition"></a></dt>
<dd><p>Estimate width based on a thresbold of bank height above water level.
Start in the centre and work out. Doesn’t detect banks until a value
less than the threshold has been detected. Takes the widest channel within
the radius.’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cross_sections</strong> (<em>geopandas.GeoDataFrame</em>) – The cross_sections with geometry defined as polylines.</p></li>
<li><p><strong>cross_section_elevations</strong> (<em>dict</em>) – The sampled elevations along the cross_sections.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – The height above the water level to detect as a bank.</p></li>
<li><p><strong>resolution</strong> (<em>float</em>) – The resolution to sample at.</p></li>
<li><p><strong>search_radius</strong> (<em>float</em>) – The distance to search side to side from the centre index.</p></li>
<li><p><strong>min_channel_width</strong> (<em>float</em>) – The minimum width of a ‘valid’ channel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.variable_thresholded_widths_from_centre_within_radius">
<span class="sig-name descname"><span class="pre">variable_thresholded_widths_from_centre_within_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cross_sections</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section_elevations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximum_threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_channel_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.variable_thresholded_widths_from_centre_within_radius" title="Permalink to this definition"></a></dt>
<dd><p>Estimate width based on a thresbold of bank height above water level.
Start in the centre and work out. Doesn’t detect banks until a value
less than the threshold has been detected. Takes the widest channel within
the radius.’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cross_sections</strong> (<em>geopandas.GeoDataFrame</em>) – The cross_sections with geometry defined as polylines.</p></li>
<li><p><strong>cross_section_elevations</strong> (<em>dict</em>) – The sampled elevations along the cross_sections.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – The height above the water level to detect as a bank.</p></li>
<li><p><strong>resolution</strong> (<em>float</em>) – The resolution to sample at.</p></li>
<li><p><strong>search_radius</strong> (<em>float</em>) – The distance to search side to side from the centre index.</p></li>
<li><p><strong>maximum_threshold</strong> (<em>float</em>) – The maximum amount to increase the bank height before stopping.</p></li>
<li><p><strong>min_channel_width</strong> – The minimum width of a ‘valid’ channel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.fixed_threshold_width">
<span class="sig-name descname"><span class="pre">fixed_threshold_width</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gnd_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veg_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_water</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_radius_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_channel_width</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.fixed_threshold_width" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the maximum width for a cross section given a fixed
threshold - checking outwards, forwards and backwards within the
search radius.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gnd_samples</strong> (<em>numpy.ndarray</em>) – The ground elevations for a single cross section.</p></li>
<li><p><strong>veg_samples</strong> (<em>numpy.ndarray</em>) – The vegrtation elevations for the same cross section.</p></li>
<li><p><strong>start_index</strong> (<em>int</em>) – The index to start the outward search from.</p></li>
<li><p><strong>z_water</strong> (<em>float</em>) – The elevation of the water.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – The height above the water level to detect as a bank.</p></li>
<li><p><strong>search_radius_index</strong> (<em>int</em>) – The distance in indices to search for the start of a channel away
from the start_index</p></li>
<li><p><strong>min_channel_width</strong> (<em>float</em>) – The minimum width of a ‘valid’ channel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.fixed_threshold_width_outwards">
<span class="sig-name descname"><span class="pre">fixed_threshold_width_outwards</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gnd_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veg_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_water</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.fixed_threshold_width_outwards" title="Permalink to this definition"></a></dt>
<dd><p>If the start_index is nan or less than the threshold, then cycle
outwards until each side has gone above the threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gnd_samples</strong> (<em>numpy.ndarray</em>) – The ground elevations for a single cross section.</p></li>
<li><p><strong>veg_samples</strong> (<em>numpy.ndarray</em>) – The vegrtation elevations for the same cross section.</p></li>
<li><p><strong>start_index</strong> (<em>int</em>) – The index to start the outward search from.</p></li>
<li><p><strong>z_water</strong> (<em>float</em>) – The elevation of the water.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – The height above the water level to detect as a bank.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.fixed_threshold_width_forwards">
<span class="sig-name descname"><span class="pre">fixed_threshold_width_forwards</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gnd_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veg_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_water</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.fixed_threshold_width_forwards" title="Permalink to this definition"></a></dt>
<dd><p>Check for channels approaching forward.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gnd_samples</strong> (<em>numpy.ndarray</em>) – The ground elevations for a single cross section.</p></li>
<li><p><strong>veg_samples</strong> (<em>numpy.ndarray</em>) – The vegrtation elevations for the same cross section.</p></li>
<li><p><strong>start_index</strong> (<em>int</em>) – The index to start the outward search from.</p></li>
<li><p><strong>z_water</strong> (<em>float</em>) – The elevation of the water.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – The height above the water level to detect as a bank.</p></li>
<li><p><strong>stop_index</strong> (<em>int</em>) – The maximum index to search through</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.fixed_threshold_width_backwards">
<span class="sig-name descname"><span class="pre">fixed_threshold_width_backwards</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gnd_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veg_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_water</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.fixed_threshold_width_backwards" title="Permalink to this definition"></a></dt>
<dd><p>Check for channels approaching backwards.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gnd_samples</strong> (<em>numpy.ndarray</em>) – The ground elevations for a single cross section.</p></li>
<li><p><strong>veg_samples</strong> (<em>numpy.ndarray</em>) – The vegrtation elevations for the same cross section.</p></li>
<li><p><strong>start_index</strong> (<em>int</em>) – The index to start the outward search from.</p></li>
<li><p><strong>z_water</strong> (<em>float</em>) – The elevation of the water.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – The height above the water level to detect as a bank.</p></li>
<li><p><strong>stop_index</strong> (<em>int</em>) – The minimum index to search through</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.align_channel">
<span class="sig-name descname"><span class="pre">align_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_channel_width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width_centre_smoothing_multiplier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section_radius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.align_channel" title="Permalink to this definition"></a></dt>
<dd><p>Estimate the channel centre from transect samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em>) – The height above the water level to detect as a bank.</p></li>
<li><p><strong>search_radius</strong> (<em>float</em>) – The distance to search side to side from the centre index.</p></li>
<li><p><strong>min_channel_width</strong> (<em>float</em>) – The minimum width of a ‘valid’ channel.</p></li>
<li><p><strong>initial_channel</strong> (<a class="reference internal" href="#geofabrics.bathymetry_estimation.Channel" title="geofabrics.bathymetry_estimation.Channel"><em>Channel</em></a>) – The initial channel centreline to align.</p></li>
<li><p><strong>width_centre_smoothing_multiplier</strong> (<em>float</em>) – The number of cross_sections to include in the downstream spline
smoothing.</p></li>
<li><p><strong>cross_section_radius</strong> (<em>float</em>) – The radius (or 1/2 length) of the cross sections along which to
sample.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geofabrics.bathymetry_estimation.ChannelCharacteristics.estimate_width_and_slope">
<span class="sig-name descname"><span class="pre">estimate_width_and_slope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aligned_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_channel_width</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geofabrics.bathymetry_estimation.ChannelCharacteristics.estimate_width_and_slope" title="Permalink to this definition"></a></dt>
<dd><p>Estimate the channel centre from transect samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aligned_channel</strong> (<em>geopandas.GeoDataFrame</em>) – The channel centre line. Should be in the channel bed.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – The height height above the water level to detect as a bank.</p></li>
<li><p><strong>max_threshold</strong> (<em>float</em>) – The maximum height above water level to detect as a bank (i.e. not
a cliff)</p></li>
<li><p><strong>cross_section_radius</strong> (<em>float</em>) – The radius (or 1/2 length) of the cross sections along which to
sample.</p></li>
<li><p><strong>search_radius</strong> (<em>float</em>) – The distance to search side to side from the centre index.</p></li>
<li><p><strong>min_channel_width</strong> (<em>float</em>) – The minimum width of a ‘valid’ channel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Rose Pearson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>